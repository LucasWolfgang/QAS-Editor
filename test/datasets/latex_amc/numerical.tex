\documentclass[a4paper]{article}
%review

\usepackage[utf8]{inputenc}
%\usepackage{lmodern}
\usepackage[hmargin=4cm, vmargin=2cm, includeheadfoot]{geometry}
\usepackage{alltt}
\usepackage{multicol}
\usepackage{amsmath,amssymb}
\usepackage{color}
\usepackage{graphicx}
\usepackage[francais,bloc,completemulti]{sty/automultiplechoice}     % Mandatory for conversion
\usepackage{sty/mhchem} % needed for chemical equations
%\usepackage{fp} 
% exemple de commande utilisateur
\providecommand{\abs}[1]{\lvert#1\rvert}

\title{Conversion test for AMC to moodle}
\author{BN}

\begin{document}

%
% B A R E M E
% e=incohérence; b=bonne; m=mauvaise; p planché (on ne descent pas en dessous)
\scoringDefaultS{e=-0.5,b=1,m=-0.5}% never put b<1,
\scoringDefaultM{e=-0.5,b=1,m=-0.25,p=-0.5}% never put b<1, with amc2moodle m correspond to the grade if all the wrong answers are ticked, b correspond to the grade if all the good answers are ticked

\element{num}{
\begin{questionmultx}{num:int-noopts}
Find $x$ such $2x-300=0$ ?
$x$ is an integer, test for exact match, only.

\AMCnumericChoices{150}{digits=3}
\end{questionmultx}}

\element{num}{
\begin{questionmultx}{num:int-opts}
Find $x$ such $2x-300=0$ ?
$x$ is an integer, test for exact match, and partial match for $x\in [149, 150[\cup]150, 151] $.
There is one good answer, and to partial answer with a fraction 25 \%.
\AMCnumericChoices{150}{digits=3,sign=false,scoreexact=2,scoreapprox=0.5,approx=1}
\end{questionmultx}}

\element{num}{
\begin{questionmultx}{num:float-noopts}
Give an approximation of $\pi$
Non additional parameter, will use the default tolerance provided in amc2moodle. Only one good answer.
\AMCnumericChoices{3.141592653589793}{digits=6, decimals=5}
\end{questionmultx}}

\element{num}{
\begin{questionmultx}{num:float-noopts1}
Give an approximation of $\pi$

Here, \texttt{exact} is 100 with 5 decimal, ie  $314159 \pm 1$, ie $x\in [3.14158,\, 3.14160]$.
Normally only one good answer, with precribed tolerance.
\AMCnumericChoices{3.141592653589793}{digits=6, decimals=5, exact=1}
\end{questionmultx}}

\element{num}{
\begin{questionmultx}{num:float-noopts100}
Give an approximation of $\pi$

Here, \texttt{exact} is 1 with 5 decimal, ie   $314159 \pm 1$, ie $x\in [3.14158,\, 3.14160]$.

Here, \texttt{approx} is 100 with 5 decimal, ie  $314159 \pm 100$, ie $x\in [3.14059,\, 3.14158] \cup [3.14160,\, 3.14259]$.

Normally on one good answer, 2 partially good answer with a fraction 50 \%.

\AMCnumericChoices{3.141592653589793}{digits=6, decimals=5, exact=1, approx=100}
\end{questionmultx}}

\element{moodle2amc-num}{
  \begin{questionmultx}{num:int}\label{q:num:int}   
    Find \(x\) such \(2x-300=0\) ? 
Here \(x\) is an integer, test for \textbf{exact} match, only.

\AMCnumericChoices{150}{exact = 0, decimals = 0, sign = false, digits = 3, scoreexact = 1}   

  \end{questionmultx}}

% -----------------------------------------------------------------------------
\element{num}{
  \begin{questionmultx}{num:float}\label{q:num:float}   
    Give an approximated value for \(\pi\) up to 3 digits?

\AMCnumericChoices{3.141592653589793}{exact = 1, decimals = 3, sign = false, digits = 4, scoreexact = 1}   

  \end{questionmultx}}

% -----------------------------------------------------------------------------
\element{num}{
  \begin{questionmultx}{num:2ans}\label{q:num:2ans}   
    Let \(z=3+2\mathrm{i}\). What is the imaginary part ?

\AMCnumericChoices{2}{exact = 0, decimals = 0, sign = false, digits = 1, scoreexact = 1}   

  \end{questionmultx}}

% -----------------------------------------------------------------------------
\element{num}{
  \begin{questionmultx}{num:2rounding}\label{q:num:2rounding}   
    Give an approximated value for \(\sqrt{2}\) up to 3 digits ?

\AMCnumericChoices{1.4142135623730951}{decimals = 3, scoreapprox = 0.5, sign = false, digits = 4, scoreexact = 1, exact = 1, approx = 100}   

  \end{questionmultx}}

\element{num}{
\begin{questionmultx}{with-int}
How many times does the following program display \texttt{"x"} ?

\texttt{for (int i = 4; i < 24; ++i)\\
\hspace*{1em}for (int j = i + 2; j - 1 > 0; -{}-j)\\
\hspace*{2em}puts("x");}

\AMCnumericChoices{290}{digits=3,sign=false,scoreexact=2,scoreapprox=1,approx=10}
\end{questionmultx}}



\exemplaire{1}{        % nombre de sujet différent
  %debut de l'en-tête des copies :
  \vspace*{.5cm}
  \begin{minipage}{.4\linewidth}
    \centering\large\texttt{amc2moodle}
  \end{minipage}
  \champnom{\fbox{
      \begin{minipage}{.5\linewidth}
        Nom et prénom :

        \vspace*{.5cm}\dotfill
        \vspace*{1mm}
      \end{minipage}
    }}
  \begin{flushleft}
    Test for numeric questions.
    \begin{center}
      \Large{\textsc{QCM using AMC Latex Format}}\\
      \normalsize
    \end{center}
  \end{flushleft}

  \cleargroup{BigGroupe}
  \copygroup{num}{BigGroupe}
  \restituegroupe{BigGroupe}
}

\end{document}
